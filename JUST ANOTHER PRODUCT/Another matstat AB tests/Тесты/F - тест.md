
F-тест используется для сравнения дисперсий двух выборок и проверки гипотезы о равенстве этих дисперсий. Вот основные математические формулы:

1. **Выборочная дисперсия для группы \(A\) и группы \(B\)**:

$$
   S_A^2 = \frac{1}{n_A - 1} \sum_{i=1}^{n_A} (X_i - \bar{X}_A)^2
$$

   $$
   S_B^2 = \frac{1}{n_B - 1} \sum_{i=1}^{n_B} (X_i - \bar{X}_B)^2
$$

   где $(n_A)$ и $(n_B)$ — размеры выборок, $(X_i)$ — элементы выборок, $(\bar{X}_A$) и $(\bar{X}_B)$ — средние значения выборок.

2. **Статистика F**:

$$
   F = \frac{S_A^2}{S_B^2}
$$

   где $(S_A^2)$ и $(S_B^2)$ — выборочные дисперсии.

3. **Степени свободы**:

$$
   \text{df}_1 = n_A - 1
$$

$$
   \text{df}_2 = n_B - 1
$$

4. **p-значение**:

$$
   p = P(F_{\text{df}_1, \text{df}_2} > F)
$$

   где $(F_{\text{df}_1, \text{df}_2})$ — распределение F со степенями свободы $(\text{df}_1)$ и $(\text{df}_2)$.

<h6>Пример кода на Python</h6>

```python
import numpy as np
from scipy import stats

# Пример данных
np.random.seed(42)
group_A = np.random.normal(100, 15, 100)  # контрольная группа
group_B = np.random.normal(105, 20, 100)  # тестовая группа

# Вычисление выборочных дисперсий
var_A = np.var(group_A, ddof=1)
var_B = np.var(group_B, ddof=1)

# Вычисление значения F
F = var_A / var_B

# Степени свободы
dfn = len(group_A) - 1
dfd = len(group_B) - 1

# Вычисление p-значения
p_value = stats.f.cdf(F, dfn, dfd)

# Так как F распределение симметричное, то p-value корректируем для двустороннего теста
if F > 1:
    p_value = 2 * (1 - p_value)
else:
    p_value = 2 * p_value

print(f"F-статистика: {F:.4f}")
print(f"p-значение: {p_value:.4f}")

# Проверка на равенство дисперсий
alpha = 0.05
if p_value < alpha:
    print("Дисперсии значимо различаются.")
else:
    print("Нет значимого различия в дисперсиях.")
```
