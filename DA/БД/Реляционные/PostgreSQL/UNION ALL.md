
`UNION ALL`  в SQL объединяет результаты двух или более запросов в один набор данных, включая все дубликаты. В отличие от `UNION**, который автоматически удаляет повторяющиеся строки, **UNION ALL** сохраняет их.

  

**Основные моменты:**

  

1. Объединяет строки из нескольких запросов.

2. Не удаляет дубликаты, что делает его быстрее, так как не требуется дополнительная обработка для сравнения строк.

3. Требует, чтобы количество и порядок столбцов в объединяемых запросах совпадали.

4. Типы данных в соответствующих столбцах должны быть совместимыми.

  

**Синтаксис:**

  

SELECT столбцы_1

FROM таблица_1

UNION ALL

SELECT столбцы_2

FROM таблица_2;

  

**Пример:**

  

Представим, что у нас есть две таблицы: **employees_2023** и **employees_2024**, и мы хотим объединить их данные.

  

**Таблица employees_2023:**

  

**id** **name** **salary**

1 Alice 50000

2 Bob 60000

  

**Таблица employees_2024:**

  

**id** **name** **salary**

2 Bob 60000

3 Charlie 70000

  

Запрос:

  

SELECT id, name, salary 

FROM employees_2023

UNION ALL

SELECT id, name, salary 

FROM employees_2024;

  

Результат:

  

**id** **name** **salary**

1 Alice 50000

2 Bob 60000

2 Bob 60000

3 Charlie 70000

  

Обратите внимание, что строка с **id = 2** из обеих таблиц присутствует дважды, так как **UNION ALL** не удаляет дубликаты.

  

**Когда использовать UNION ALL:**

  

• Когда нужно сохранить все строки, включая дубликаты.

• Когда важна производительность, так как **UNION ALL** быстрее, чем **UNION**.

• Если дубликаты не мешают аналитике или их наличие критично для анализа данных.

  

**Отличие от UNION:**

  

**Особенность** **UNION** **UNION ALL**

Дубликаты удаляются Да Нет

Производительность Медленнее Быстрее

Использование Когда нужны уникальные строки Когда нужны все строки