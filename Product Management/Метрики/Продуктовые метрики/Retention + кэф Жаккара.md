Как и для всех крупных метрик мы считаем проксиметрики , чтобы проводить дешевле тесты и не ждать долго , для retention мы тоже считаем прокси - метрику , но лучшая проскиметрика для ретеншина 

Представим, что у нас есть данные по возвращаемости нескольких пользователей. В этом примере каждому пользователю присвоен уникальный **user_id**, а также указано, в какие периоды он возвращался в продукт.

| user_id | Retained 1d | Retained up to 7d | Retained 28d |
|---------|-------------|-------------------|--------------|
| 101     | Да          | Да               | Нет          |
| 102     | Да          | Да               | Да           |
| 103     | Нет         | Нет              | Нет          |
| 104     | Да          | Нет              | Нет          |
| 105     | Да          | Да               | Да           |
| 106     | Нет         | Да               | Нет          |
| 107     | Да          | Нет              | Да           |
| 108     | Нет         | Да               | Да           |
| 109     | Да          | Да               | Нет          |
| 110     | Нет         | Нет              | Нет          |

Теперь рассчитаем коэффициент Жаккара для метрик **Retained up to 7d** и **Retained 28d**, чтобы узнать, насколько сходны пользователи, вернувшиеся до 7-го дня, и те, кто вернулся на 29-й день.

1. Пользователи, вернувшиеся до 7-го дня (Retained up to 7d) : user_id `101`, `102`, `105`, `106`, `108`, `109` — всего 6 пользователей.

2. Пользователи, вернувшиеся на 29-й день (Retained 28d) : user_id `102`, `105`, `107`, `108` — всего 4 пользователя.

3. Пересечение (вернувшиеся и до 7-го дня, и на 29-й день) : user_id `102`, `105`, `108` — всего 3 пользователя.

Теперь подставим данные в формулу:
  $$
J(A, B) = \frac{|A \cap B|}{|A \cup B|} = \frac{3}{6 + 4 - 3} = \frac{3}{7} \approx 0.43
$$

Итак, коэффициент Жаккара для пользователей, вернувшихся до 7-го дня и на 29-й день, составляет **0.43** или **43%**. Это значит, что 43% пользователей, которые возвращаются в первую неделю, также вернутся через месяц.