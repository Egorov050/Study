Представьте, что вы хотите рассчитать Retention на основе пользователей, которые первый раз запустили продукт 1 и 2 сентября:

- 1 сентября пришло 100 пользователей, и их Retention первых дней следующий: Day 0 = 100%, Day 1 = 40%, Day 2 = 30%.
- 2 сентября пришел один пользователь, и его Retention первых дней следующий: Day 0 = 100%, Day 1 = 0%, Day 2 = 100%.

Среднее арифметическое Retention за 1 и 2 сентября будет равно:

- Day 0 = `(100% + 100%) / 2 = 100%`
- Day 1 = `(40% + 0%) / 2 = 20%`
- Day 2 = `(30% + 100%) / 2 = 65%`

Как вы можете заметить, среднее арифметическое значений Retention за 1 и 2 сентября дает нам не самое лучшее представление об общем Retention всего продукта. Проблема в том, что Retention за 2 сентября рассчитан на основе всего одного пользователя, а имеет такой же вес, как и Retention, рассчитанный на основе 100 пользователей, пришедших 1 сентября.

Взвешенное среднее арифметическое учитывает вес каждой когорты, то есть то, на основе какого количества пользователей рассчитывался Retention для каждого из дней. Взвешенное среднее арифметическое в данном случае будет следующим:

- Day 0 = `(100% * 100 + 100% * 1) / (100 + 1) = 100%`
- Day 1 = `(40% * 100 + 0% * 1) / (100 + 1) = 39.6%`
- Day 2 = `(30% * 100 + 100% * 1) / (100 + 1) = 30.7%`


Хорошая визуализация по когортам аудитории : 

![[Screenshot 2025-09-27 at 7.35.29 PM.png]]