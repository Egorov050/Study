Алгоритм `Local Outlier Factor (LOF)` используется для обнаружения выбросов в данных. Его основной принцип заключается в оценке `"аномальности"` каждой точки данных с учетом её окружения (локального контекста).

Алгоритм **Local Outlier Factor** (LOF) используется для обнаружения выбросов в данных. Его основной принцип заключается в оценке "аномальности" каждой точки данных с учетом её окружения (локального контекста).

<h3> Принцип работы LOF: </h3>

1. `Локальная плотность точек данных`:
   - LOF оценивает плотность данных в окрестности каждой точки. Чем больше точек находится рядом с определенной точкой, тем выше её локальная плотность.

2. `Сравнение соседей`:
   - Для каждой точки данных рассматривается её окрестность, определяемая числом ближайших соседей (`n_neighbors`). Эти соседи помогают определить, насколько "нормальной" является точка.

3. `Оценка локальной аномальности`:
   - LOF вычисляет отношение между локальной плотностью точки данных и плотностями её соседей. Если точка имеет меньшую плотность, чем её соседи, это может указывать на то, что она является выбросом.

4. `LOF значений`:
   - Значение LOF для каждой точки вычисляется как среднее отношение её локальной плотности к плотностям соседей. Чем выше LOF, тем более аномальной считается точка.
   
<h3> Как используется LOF для обнаружения выбросов: </h3>

- `Обучение модели`: Сначала LOF обучается на наборе данных, используя параметры, такие как `n_neighbors` (количество соседей) и `contamination` (ожидаемая доля выбросов в данных).
  
- `Определение аномалий`: После обучения LOF применяется для каждой точки данных, чтобы определить её LOF значение. Чем больше значение LOF, тем более вероятно, что точка является выбросом.

- `Интерпретация результатов`: После вычисления LOF для всех точек данных можно установить пороговое значение LOF, выше которого точки считаются выбросами. Это пороговое значение обычно определяется экспериментально или исходя из требований конкретной задачи.

### Пример применения:

```python
from sklearn.neighbors import LocalOutlierFactor

# Создание модели LOF с заданными параметрами
lof = LocalOutlierFactor(n_neighbors=20, contamination=0.1)

# Обучение модели и предсказание выбросов
outliers = lof.fit_predict(data)

# Выделение индексов выбросов
outliers_indices = data[outliers == -1].index

# Удаление выбросов из данных
data_clean = data.drop(outliers_indices)
```

По дефолту, мы вводим вот такие параметры : `n_neighbors=20, contamination=0.1`


